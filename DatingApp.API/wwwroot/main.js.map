{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_directives/hasRole.directive.ts","webpack:///./src/app/_guards/auth.guard.ts","webpack:///./src/app/_guards/prevent-unsaved-changes.guard.ts","webpack:///./src/app/_models/pagination.ts","webpack:///./src/app/_resolvers/lists.resolver.ts","webpack:///./src/app/_resolvers/member-detail.resolver.ts","webpack:///./src/app/_resolvers/member-edit.resolver.ts","webpack:///./src/app/_resolvers/member-list.resolver.ts","webpack:///./src/app/_resolvers/messages.resolver.ts","webpack:///./src/app/_services/admin.service.ts","webpack:///./src/app/_services/alertify.service.ts","webpack:///./src/app/_services/auth.service.ts","webpack:///./src/app/_services/error.interceptor.ts","webpack:///./src/app/_services/user.service.ts","webpack:///./src/app/admin/admin-panel/admin-panel.component.css","webpack:///./src/app/admin/admin-panel/admin-panel.component.html","webpack:///./src/app/admin/admin-panel/admin-panel.component.ts","webpack:///./src/app/admin/photo-management/photo-management.component.css","webpack:///./src/app/admin/photo-management/photo-management.component.html","webpack:///./src/app/admin/photo-management/photo-management.component.ts","webpack:///./src/app/admin/roles-modal/roles-modal.component.css","webpack:///./src/app/admin/roles-modal/roles-modal.component.html","webpack:///./src/app/admin/roles-modal/roles-modal.component.ts","webpack:///./src/app/admin/user-management/user-management.component.css","webpack:///./src/app/admin/user-management/user-management.component.html","webpack:///./src/app/admin/user-management/user-management.component.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/home/home.component.css","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/lists/lists.component.css","webpack:///./src/app/lists/lists.component.html","webpack:///./src/app/lists/lists.component.ts","webpack:///./src/app/members/member-card/member-card.component.css","webpack:///./src/app/members/member-card/member-card.component.html","webpack:///./src/app/members/member-card/member-card.component.ts","webpack:///./src/app/members/member-detail/member-detail.component.css","webpack:///./src/app/members/member-detail/member-detail.component.html","webpack:///./src/app/members/member-detail/member-detail.component.ts","webpack:///./src/app/members/member-edit/member-edit/member-edit.component.css","webpack:///./src/app/members/member-edit/member-edit/member-edit.component.html","webpack:///./src/app/members/member-edit/member-edit/member-edit.component.ts","webpack:///./src/app/members/member-list/member-list.component.css","webpack:///./src/app/members/member-list/member-list.component.html","webpack:///./src/app/members/member-list/member-list.component.ts","webpack:///./src/app/members/member-messages/member-messages.component.css","webpack:///./src/app/members/member-messages/member-messages.component.html","webpack:///./src/app/members/member-messages/member-messages.component.ts","webpack:///./src/app/members/photo-editor/photo-editor.component.css","webpack:///./src/app/members/photo-editor/photo-editor.component.html","webpack:///./src/app/members/photo-editor/photo-editor.component.ts","webpack:///./src/app/messages/messages.component.css","webpack:///./src/app/messages/messages.component.html","webpack:///./src/app/messages/messages.component.ts","webpack:///./src/app/nav/nav.component.css","webpack:///./src/app/nav/nav.component.html","webpack:///./src/app/nav/nav.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/routes.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Directive, Input, ViewContainerRef, TemplateRef, OnInit } from '@angular/core';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n@Directive({\r\n  selector: '[appHasRole]'\r\n})\r\nexport class HasRoleDirective implements OnInit {\r\n  @Input() appHasRole: string[];\r\n\r\n  constructor(private viewContainerRef: ViewContainerRef, private templateRef: TemplateRef<any>, private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    const userRoles = this.authService.decodedToken.role as string[];\r\n\r\n    // if no roles clear the viewContainerRef\r\n    if (!userRoles) {\r\n      this.viewContainerRef.clear();\r\n    }\r\n\r\n    // if user has required role then render element\r\n    if (this.authService.roleMatch(this.appHasRole)) {\r\n        this.viewContainerRef.createEmbeddedView(this.templateRef); // templateRef is element were applying the structural directive to\r\n     } else {\r\n        this.viewContainerRef.clear();\r\n     }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private authService: AuthService, private router: Router, private as: AlertifyService) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot): boolean {\r\n    // because auth guard is protecting child routes\r\n    const roles = route.firstChild.data['roles'] as string[];  // allowed roles\r\n    if (roles) {   // since data property would only be in admin route (and youd be logged in to get decoded token in roleMatch)\r\n      const match = this.authService.roleMatch(roles);\r\n      if (match) {\r\n        return true;\r\n      } else {\r\n        this.router.navigate(['members']);\r\n        this.as.error('Not authorized!');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (this.authService.loggedIn()) {\r\n      return true;\r\n    }\r\n\r\n    this.router.navigate(['/home']);\r\n    return false;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate } from '@angular/router';\r\nimport { MemberEditComponent } from '../members/member-edit/member-edit/member-edit.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PreventUnsavedChanges implements CanDeactivate<MemberEditComponent> {\r\n\r\n  canDeactivate(component: MemberEditComponent) {\r\n    if (component.editForm.dirty) {\r\n        return confirm('Are you sure you want to continue? Any unsaved changes will be lost');\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n","export interface Pagination {\r\n    currentPage: number;\r\n    itemsPerPage: number;\r\n    totalItems: number;\r\n    totalPages: number;\r\n}\r\n\r\n// generic because it will store users and messages\r\nexport class PaginatedResult<T> {\r\n    result: T;\r\n    pagination: Pagination;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\n\r\n\r\n@Injectable({providedIn: 'root' })\r\nexport class ListsResolver implements Resolve<PaginatedResult<User[]>> {\r\n    pageNumber = 1;\r\n    pageSize = 5;\r\n    likesParams = 'likers';  // could change gender to all here..\r\n\r\n    constructor(private userService: UserService, private router: Router, private as: AlertifyService) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<User[]>> {\r\n        return this.userService.getUsers(this.pageNumber, this.pageSize, null, this.likesParams).pipe(catchError(error => {\r\n            this.as.error('Error retrieving data');\r\n            this.router.navigate(['/']);\r\n            return of(null);\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({providedIn: 'root' })\r\nexport class MemberDetailResolver implements Resolve<User> {\r\n\r\n    constructor(private userService: UserService, private router: Router, private as: AlertifyService) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n        return this.userService.getUser(route.params['id']).pipe(catchError(error => {\r\n            // console.log(error);  // Server error from interceptor!\r\n            this.as.error('Error retrieving data');\r\n            this.router.navigate(['/members']);\r\n            return of(null);\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n\r\n@Injectable({providedIn: 'root' })\r\nexport class MemberEditResolver implements Resolve<User> {\r\n\r\n    constructor(private userService: UserService,\r\n        private router: Router,\r\n        private as: AlertifyService,\r\n        private authService: AuthService) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n        return this.userService.getUser(this.authService.decodedToken.nameid).pipe(catchError(error => {\r\n            this.as.error('Error retrieving your data');\r\n            this.router.navigate(['/members']);\r\n            return of(null);\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\n\r\n\r\n@Injectable({providedIn: 'root' })\r\nexport class MemberListResolver implements Resolve<PaginatedResult<User[]>> {\r\n    pageNumber = 1;\r\n    pageSize = 5;\r\n\r\n    constructor(private userService: UserService, private router: Router, private as: AlertifyService) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<User[]>> {\r\n        return this.userService.getUsers(this.pageNumber, this.pageSize).pipe(catchError(error => {\r\n            this.as.error('Error retrieving data');\r\n            this.router.navigate(['/']);\r\n            return of(null);\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\nimport { Message } from '../_models/message';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n\r\n@Injectable({providedIn: 'root' })\r\nexport class MessagesResolver implements Resolve<PaginatedResult<Message[]>> {\r\n    pageNumber = 1;\r\n    pageSize = 5;\r\n    messageContainer = 'Unread';\r\n\r\n    constructor(private userService: UserService, private authService: AuthService, private router: Router, private as: AlertifyService) {}\r\n\r\n    resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<Message[]>> {\r\n        return this.userService.getMessages(this.authService.decodedToken.nameid, this.pageNumber, this.pageSize, this.messageContainer)\r\n            .pipe(catchError(error => {\r\n                this.as.error('Error retrieving messages');\r\n                this.router.navigate(['/']);\r\n                return of(null);\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../_models/user';\r\nimport { Photo } from '../_models/photo';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdminService {\r\nbaseUrl = environment.apiUrl;\r\n\r\nconstructor(private http: HttpClient) {}\r\n\r\ngetUsersWithRoles() {\r\n  return this.http.get(this.baseUrl + 'admin/usersWithRoles');\r\n}\r\n\r\nupdateUserRoles(user: User, roles: object) {\r\n  return this.http.post(this.baseUrl + 'admin/editRoles/' + user.username, roles);\r\n}\r\n\r\ngetUnnaprovedPhotos(): Observable<Photo[]> {\r\n  return this.http.get<Photo[]>(this.baseUrl + 'admin/photosForModeration');\r\n}\r\n\r\napprovePhoto(photoId: number) {\r\n  return this.http.patch(this.baseUrl + 'admin/photos/' + photoId + '/approve', {});\r\n}\r\n\r\nrejectPhoto(photoId: number) {\r\n  return this.http.delete(this.baseUrl + 'admin/photos/' + photoId + '/reject');\r\n}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\ndeclare let alertify: any; // so tsliint doesn't give us errors\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertifyService {\n\nconstructor() { }\n\nconfirm(message: string, okCallback: () => any) {\n  alertify.confirm(message, function(e) {\n    if (e) {  // e is user clicking ok button\n      okCallback();\n    } else {}\n  });\n}\n\nsuccess(message: string) {\n  alertify.success(message);\n}\n\nerror(message: string) {\n  alertify.error(message);\n}\n\nwarning(message: string) {\n  alertify.warning(message);\n}\n\nmessage(message: string) {\n  alertify.message(message);\n}\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { User } from '../_models/user';\r\n\r\n// root module is proving service\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  baseUrl = environment.apiUrl + 'auth/';\r\n  jwtHelper = new JwtHelperService();\r\n  decodedToken: any;\r\n  currentUser: User;\r\n  photoUrl = new BehaviorSubject<string>('../../assets/user.png');\r\n  currentPhotoUrl = this.photoUrl.asObservable();  // components can subscribe to this now\r\n\r\nconstructor(private http: HttpClient) { }\r\n\r\nchangeMemberPhoto(photoUrl: string) {\r\n  this.photoUrl.next(photoUrl);   // changes value of behavior subject and currentPhotoUrl will change too\r\n}\r\n\r\nlogin(model: any) {  // angular uses application/json as default content type in headers (what we send)\r\n  return this.http.post(this.baseUrl + 'login', model)\r\n    .pipe(map((response: any) => {\r\n      if (response) {\r\n        localStorage.setItem('token', response.token);\r\n        localStorage.setItem('user', JSON.stringify(response.user));\r\n        this.decodedToken = this.jwtHelper.decodeToken(response.token);\r\n        this.currentUser = response.user;\r\n        this.changeMemberPhoto(response.user.photoUrl);\r\n        console.log(this.decodedToken);\r\n      }\r\n      // return response;  map doesnt return reponse for you\r\n    }));\r\n}\r\n\r\nregister(user: User) {\r\n  return this.http.post(this.baseUrl + 'register', user);\r\n}\r\n\r\nloggedIn() {\r\n  const token = localStorage.getItem('token');\r\n  return !this.jwtHelper.isTokenExpired(token);\r\n}\r\n\r\nlogout() {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  this.decodedToken = null;\r\n  this.currentUser = null;\r\n}\r\n\r\nroleMatch(allowedRoles: string[]): boolean {\r\n  const userRoles = this.decodedToken.role as string[];\r\n  for (const role of allowedRoles) {\r\n    if (userRoles.includes(role)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    // returns observable\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(req).pipe(\r\n            catchError(error => {\r\n                if (error instanceof HttpErrorResponse) {  // from api (like throwing error in api)\r\n                    if (error.status === 401) {  // 401 like unauthorized login wouldnt meet other checks below (not model state error)\r\n                        return throwError(error.statusText);  // and 401 doesnt have body so not available on error.error below\r\n                    }\r\n                    const applicationError = error.headers.get('Application-Error');\r\n                    if (applicationError) {\r\n                        console.error(applicationError);\r\n                        return throwError(applicationError);\r\n                    }\r\n\r\n                    const serverError = error.error;  // .error is body. model state error will be type of object\r\n                    let modelStateErrors = '';\r\n                    // let modelStateErrorsArr = [];  instead of string, this works perfect w 2 errors of same key\r\n                    if (serverError && typeof serverError === 'object') {\r\n                        const keys = Object.keys(serverError);  // better than looping through object directly with for..in loop\r\n                        for (const key of keys) {\r\n                            if (serverError[key]) {\r\n                                modelStateErrors += serverError[key] + '\\n';\r\n                                // modelStateErrorsArr = [...modelStateErrorsArr, ...serverError[key]];\r\n                            }\r\n                        }\r\n                    }\r\n                    // if not model state error, other error would be in serverError or string as last attempt\r\n                    return throwError(modelStateErrors || serverError || 'Server Error');\r\n                }\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\nexport const ErrorInterceptorProvider = {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: ErrorInterceptor,\r\n    multi: true  // doesn't replace our existing intercepors, just add to this array of them\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../_models/user';\r\nimport { PaginatedResult } from '../_models/pagination';\r\nimport { map } from 'rxjs/operators';\r\nimport { Message } from '../_models/message';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  baseUrl = environment.apiUrl;\r\n\r\nconstructor(private http: HttpClient) { }\r\n\r\ngetUsers(page?, itemsPerPage?, userParams?, likesParams?): Observable<PaginatedResult<User[]>> {\r\n  const paginatedResult: PaginatedResult<User[]> = new PaginatedResult<User[]>();\r\n  let params = new HttpParams();\r\n\r\n  if (page != null && itemsPerPage != null) {\r\n    params = params.append('pageNumber', page);\r\n    params = params.append('pageSize', itemsPerPage);\r\n  }\r\n\r\n   if (userParams != null) {  // we set it to null in resolver, object exists (not null even if empty) in MemberListComponent ngOnInit\r\n    params = params.append('minAge', userParams.minAge);\r\n    params = params.append('maxAge', userParams.maxAge);\r\n    params = params.append('gender', userParams.gender);\r\n    params = params.append('orderBy', userParams.orderBy);\r\n  }\r\n\r\n  if (likesParams === 'likers') {\r\n    params = params.append('likers', 'true');\r\n  }\r\n\r\n  if (likesParams === 'likees') {\r\n    params = params.append('likees', 'true');\r\n  }\r\n\r\n  // observe: 'response' gives us access to response headers\r\n  return this.http.get<User[]>(this.baseUrl + 'users', { observe: 'response', params: params }).pipe(\r\n    map(response => {\r\n      paginatedResult.result = response.body;\r\n      console.log(response.body);\r\n      if (response.headers.get('Pagination') != null) {\r\n        paginatedResult.pagination = JSON.parse(response.headers.get('Pagination'));\r\n      }\r\n      return paginatedResult;\r\n    })\r\n  );\r\n}\r\n\r\ngetUser(id: number): Observable<User> {\r\n  return this.http.get<User>(this.baseUrl + 'users/' + id);\r\n}\r\n\r\nupdateUser(id: number, user: User) {\r\n  return this.http.put(this.baseUrl + 'users/' + id, user);\r\n}\r\n\r\nsetMainPhoto(userId: number, id: number) {\r\n  return this.http.patch(this.baseUrl + 'users/' + userId + '/photos/' + id + '/setMain', {});\r\n}\r\n\r\ndeletePhoto(userId: number, id: number) {\r\n  return this.http.delete(this.baseUrl + 'users/' + userId + '/photos/' + id);\r\n}\r\n\r\nsendLike(id: number, recipientId: number) {\r\n  return this.http.post(this.baseUrl + 'users/' + id + '/like/' + recipientId, {});\r\n}\r\n\r\n// could have created another service for messaeges\r\ngetMessages(id: number, page?, itemsPerPage?, messagecontainer?): Observable<PaginatedResult<Message[]>> {\r\n  const paginatedResult: PaginatedResult<Message[]> = new PaginatedResult<Message[]>();\r\n\r\n  let params = new HttpParams();\r\n\r\n  if (messagecontainer != null) {\r\n    params = params.append('messageContainer', messagecontainer);\r\n  }\r\n\r\n  if (page != null && itemsPerPage != null) {\r\n    params = params.append('pageNumber', page);\r\n    params = params.append('pageSize', itemsPerPage);\r\n  }\r\n\r\n  return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages', { observe: 'response', params }).pipe(\r\n      map(response => {\r\n        paginatedResult.result = response.body;\r\n        if (response.headers.get('Pagination') != null) {\r\n          paginatedResult.pagination = JSON.parse(response.headers.get('Pagination'));\r\n        }\r\n        return paginatedResult;\r\n      })\r\n    );\r\n  }\r\n\r\n  getMessageThread(id: number, recipientId: number) {\r\n    return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages/thread/' + recipientId);\r\n  }\r\n\r\n  sendMessage(id: number, message: Message) {  // doesn't match Message..\r\n    return this.http.post(this.baseUrl + 'users/' + id + '/messages', message);\r\n  }\r\n\r\n  deleteMessage(userId: number, id: number) {\r\n    return this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + id, {});\r\n  }\r\n\r\n  markAsRead(userId: number, id: number) {\r\n    this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + id + '/read', {}).subscribe();\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2FkbWluLXBhbmVsL2FkbWluLXBhbmVsLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"container mt-5\\\">\\r\\n  <h2>Admin Panel</h2>\\r\\n  <div class=\\\"tab-panel\\\">\\r\\n    <tabset class=\\\"member-tabset\\\">\\r\\n      <tab heading=\\\"User Management\\\" *appHasRole=\\\"['Admin']\\\">\\r\\n        <app-user-management></app-user-management>\\r\\n      </tab>\\r\\n      <tab heading=\\\"Photo Management\\\" *appHasRole=\\\"['Admin', 'Moderator']\\\">\\r\\n        <app-photo-management></app-photo-management>\\r\\n      </tab>\\r\\n    </tabset>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-admin-panel',\r\n  templateUrl: './admin-panel.component.html',\r\n  styleUrls: ['./admin-panel.component.css']\r\n})\r\nexport class AdminPanelComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3Bob3RvLW1hbmFnZW1lbnQvcGhvdG8tbWFuYWdlbWVudC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div *ngFor=\\\"let photo of unapprovedPhotos\\\" class=\\\"col-sm-6 col-md-3\\\">\\r\\n    <div class=\\\"m-2\\\"><img class=\\\"img-fluid rounded\\\" src=\\\"{{photo?.url}}\\\" alt=\\\"{{photo?.id}}\\\"></div>\\r\\n    <div class=\\\"text-center\\\">\\r\\n      <button class=\\\"btn btn-sm btn-primary mx-1\\\" (click)=\\\"approvePhoto(photo?.id)\\\">Approve</button>\\r\\n      <button class=\\\"btn btn-sm btn-danger mx-1\\\" (click)=\\\"rejectPhoto(photo?.id)\\\">Reject</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div> \"","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/_services/admin.service';\r\nimport { AlertifyService } from 'src/app/_services/alertify.service';\r\nimport { Photo } from 'src/app/_models/photo';\r\n\r\n@Component({\r\n  selector: 'app-photo-management',\r\n  templateUrl: './photo-management.component.html',\r\n  styleUrls: ['./photo-management.component.css']\r\n})\r\nexport class PhotoManagementComponent implements OnInit {\r\n  unapprovedPhotos: Photo[];\r\n\r\n  constructor(private adminService: AdminService, private as: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n    this.adminService.getUnnaprovedPhotos().subscribe(photos => {\r\n      this.unapprovedPhotos = photos;\r\n    }, err => this.as.error(err));\r\n  }\r\n\r\n  approvePhoto(photoId: number) {\r\n    // alert(photoId);\r\n    this.adminService.approvePhoto(photoId).subscribe(() => {\r\n      this.unapprovedPhotos = this.unapprovedPhotos.filter(p => p.id !== photoId);\r\n      this.as.success(`photo with id ${photoId} approved`);\r\n    }, err => this.as.error(err));\r\n  }\r\n\r\n  rejectPhoto(photoId: number) {\r\n    // alert(photoId);\r\n    this.adminService.rejectPhoto(photoId).subscribe(() => {\r\n      this.unapprovedPhotos = this.unapprovedPhotos.filter(p => p.id !== photoId);\r\n      this.as.success(`photo with id ${photoId} deleted`);\r\n    }, err => this.as.error(err));\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3JvbGVzLW1vZGFsL3JvbGVzLW1vZGFsLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">Edit roles for {{ user.userName }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <form #rolesorm=\\\"ngForm\\\" id=\\\"rolesForm\\\">\\r\\n      <div class=\\\"form-check\\\" *ngFor=\\\"let role of roles\\\">\\r\\n        <input type=\\\"checkbox\\\" \\r\\n        class=\\\"form-check-input\\\"\\r\\n        value=\\\"{{role.name}}\\\" \\r\\n        (change)=\\\"role.checked = !role.checked\\\"\\r\\n        [disabled]=\\\"role.name === 'Admin' && user.userName === 'Admin'\\\"\\r\\n        [checked]=\\\"role.checked\\\">\\r\\n        <label>{{role.name}}</label>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"bsModalRef.hide()\\\">Cancel</button>\\r\\n    <button class=\\\"btn btn-success\\\" form=\\\"rolesForm\\\"(click)=\\\"updateRoles()\\\">Submit</button>\\r\\n  </div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { User } from 'src/app/_models/user';\r\n\r\n@Component({\r\n  selector: 'app-roles-modal',\r\n  templateUrl: './roles-modal.component.html',\r\n  styleUrls: ['./roles-modal.component.css']\r\n})\r\nexport class RolesModalComponent implements OnInit {\r\n  @Output() updateSelectedRoles = new EventEmitter();\r\n  user: User;\r\n  roles: any[];\r\n\r\n  constructor(public bsModalRef: BsModalRef) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  updateRoles() {\r\n  this.updateSelectedRoles.emit(this.roles);\r\n  this.bsModalRef.hide();\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3VzZXItbWFuYWdlbWVudC91c2VyLW1hbmFnZW1lbnQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"container\\\">\\r\\n<div class=\\\"row\\\">\\r\\n  <table class=\\\"table\\\">\\r\\n      <thead class=\\\"\\\">\\r\\n    <tr>\\r\\n      <th style=\\\"width: 10%;\\\">User ID</th>\\r\\n      <th style=\\\"width: 35%;\\\">Username</th>\\r\\n      <th style=\\\"width: 35%;\\\">Active Roles</th>\\r\\n      <th style=\\\"width: 20%;\\\">User</th>\\r\\n    </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n    <tr *ngFor=\\\"let user of users\\\">\\r\\n      <td>{{user.id}}</td>\\r\\n      <td>{{user.username}}</td>\\r\\n      <td>{{user.roles.join(', ')}}</td>\\r\\n      <td><button class=\\\"btn btn-sm btn-info\\\" (click)=\\\"editRolesModal(user)\\\">Edit Roles</button></td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n  </table>\\r\\n</div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/_services/admin.service';\r\nimport { AlertifyService } from 'src/app/_services/alertify.service';\r\nimport { User } from 'src/app/_models/user';\r\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap';\r\nimport { RolesModalComponent } from '../roles-modal/roles-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-user-management',\r\n  templateUrl: './user-management.component.html',\r\n  styleUrls: ['./user-management.component.css']\r\n})\r\nexport class UserManagementComponent implements OnInit {\r\n  users: User[];\r\n  bsModalRef: BsModalRef;\r\n  constructor(private adminService: AdminService, private as: AlertifyService, private modalService: BsModalService) { }\r\n\r\n  ngOnInit() {\r\n    this.getUsersWithRoles();\r\n  }\r\n\r\n  getUsersWithRoles() {\r\n    this.adminService.getUsersWithRoles().subscribe((users: User[]) => {\r\n      this.users = users;\r\n    }, err => this.as.error(err));\r\n  }\r\n\r\n  editRolesModal(user: User) {\r\n      const initialState = {\r\n        user,\r\n        roles: this.getRolesArray(user)\r\n      };\r\n    this.bsModalRef = this.modalService.show(RolesModalComponent, {initialState});\r\n    this.bsModalRef.content.updateSelectedRoles.subscribe(roles => {\r\n      const rolesToUpdate = {\r\n        roleNames: [...roles.filter(r => r.checked === true).map(r => r.name)]\r\n      };\r\n      if (rolesToUpdate) {\r\n        this.adminService.updateUserRoles(user, rolesToUpdate).subscribe(() => {\r\n          user.roles = [...rolesToUpdate.roleNames];\r\n        }, err => this.as.error(err));\r\n      }\r\n    });\r\n  }\r\n\r\n  private getRolesArray(user) {\r\n    const roles = [];\r\n    const userRoles = user.roles;  // ex: member\r\n    const availableRoles: any[] = [\r\n      {name: 'Admin', value: 'Admin' },\r\n      {name: 'Moderator', value: 'Moderator' },\r\n      {name: 'Member', value: 'Member' }\r\n    ];\r\n\r\n    for (let i = 0; i < availableRoles.length; i++) {\r\n      let isMatch = false;\r\n      for (let j = 0; j < userRoles.length; j++) {\r\n        if (availableRoles[i].name === userRoles[j]) {\r\n          isMatch = true;\r\n          availableRoles[i].checked = true;\r\n          roles.push(availableRoles[i]);\r\n          break;\r\n        }\r\n      }\r\n      if (!isMatch) {\r\n        availableRoles[i].checked = false;\r\n        roles.push(availableRoles[i]);\r\n      }\r\n    }\r\n\r\n    return roles;\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-nav></app-nav>\\n<router-outlet></router-outlet>\\n\\n\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { User } from './_models/user';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  jwtHelper = new JwtHelperService();\r\n\r\n  constructor(private authService: AuthService) {}\r\n\r\n  ngOnInit(): void {\r\n      const token = localStorage.getItem('token');\r\n      const user: User = JSON.parse(localStorage.getItem('user'));\r\n      if (user && token && !this.jwtHelper.isTokenExpired(token)) {\r\n        this.authService.decodedToken = this.jwtHelper.decodeToken(token);\r\n        this.authService.currentUser = user;\r\n        this.authService.changeMemberPhoto(user.photoUrl);\r\n      } else {\r\n        this.authService.logout();\r\n      }\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BsDropdownModule, BsDatepickerModule, PaginationModule, ButtonsModule, CollapseModule, ModalModule } from 'ngx-bootstrap';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TabsModule } from 'ngx-bootstrap';\r\nimport { JwtModule } from '@auth0/angular-jwt';\r\nimport { MemberDetailResolver } from './_resolvers/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolvers/member-list.resolver';\r\nimport { MemberEditResolver } from './_resolvers/member-edit.resolver';\r\nimport { NgxGalleryModule } from 'ngx-gallery';\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { NavComponent } from './nav/nav.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { ListsComponent } from './lists/lists.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { appRoutes } from './routes';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { ErrorInterceptorProvider } from './_services/error.interceptor';\r\nimport { AlertifyService } from './_services/alertify.service';\r\nimport { UserService } from './_services/user.service';\r\nimport { MemberCardComponent } from './members/member-card/member-card.component';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit/member-edit.component';\r\nimport { PreventUnsavedChanges } from './_guards/prevent-unsaved-changes.guard';\r\nimport { PhotoEditorComponent } from './members/photo-editor/photo-editor.component';\r\nimport {TimeAgoPipe} from 'time-ago-pipe';\r\nimport { ListsResolver } from './_resolvers/lists.resolver';\r\nimport { MessagesResolver } from './_resolvers/messages.resolver';\r\nimport { MemberMessagesComponent } from './members/member-messages/member-messages.component';\r\nimport { AdminPanelComponent } from './admin/admin-panel/admin-panel.component';\r\nimport { HasRoleDirective } from './_directives/hasRole.directive';\r\nimport { UserManagementComponent } from './admin/user-management/user-management.component';\r\nimport { PhotoManagementComponent } from './admin/photo-management/photo-management.component';\r\nimport { AdminService } from './_services/admin.service';\r\nimport { RolesModalComponent } from './admin/roles-modal/roles-modal.component';\r\n\r\n\r\nexport function tokenGetter() {\r\n   return localStorage.getItem('token');\r\n}\r\n\r\n@NgModule({\r\n   declarations: [\r\n      AppComponent,\r\n      NavComponent,\r\n      HomeComponent,\r\n      RegisterComponent,\r\n      MemberListComponent,\r\n      ListsComponent,\r\n      MessagesComponent,\r\n      MemberCardComponent,\r\n      MemberDetailComponent,\r\n      MemberEditComponent,\r\n      PhotoEditorComponent,\r\n      MemberMessagesComponent,\r\n      AdminPanelComponent,\r\n      UserManagementComponent,\r\n      PhotoManagementComponent,\r\n      RolesModalComponent,\r\n      TimeAgoPipe,\r\n      HasRoleDirective\r\n   ],\r\n   imports: [\r\n      BrowserModule,\r\n      HttpClientModule,\r\n      FormsModule,\r\n      ReactiveFormsModule,\r\n      NgxGalleryModule,\r\n      FileUploadModule,\r\n      BsDropdownModule.forRoot(),\r\n      BsDatepickerModule.forRoot(),\r\n      TabsModule.forRoot(),\r\n      PaginationModule.forRoot(),\r\n      ButtonsModule.forRoot(),\r\n      RouterModule.forRoot(appRoutes),\r\n      CollapseModule.forRoot(),\r\n      ModalModule.forRoot(),\r\n      JwtModule.forRoot({\r\n         config: {\r\n            tokenGetter: tokenGetter,\r\n            whitelistedDomains: ['localhost:5000'],\r\n            blacklistedRoutes: ['localhost:5000/api/auth']\r\n         }\r\n      })\r\n   ],\r\n   providers: [\r\n      AuthService,\r\n      ErrorInterceptorProvider,\r\n      AlertifyService,\r\n      AuthGuard,\r\n      UserService,\r\n      MemberDetailResolver,\r\n      MemberListResolver,\r\n      MemberEditResolver,\r\n      MessagesResolver,\r\n      PreventUnsavedChanges,\r\n      ListsResolver,\r\n      AdminService\r\n   ],\r\n   entryComponents: [\r\n      RolesModalComponent\r\n   ],\r\n   bootstrap: [\r\n      AppComponent\r\n   ]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"container mt-5\\\">\\n  <div *ngIf=\\\"!registerMode\\\" class=\\\"text-center\\\">\\n    <h1>Find your match</h1>\\n    <p class=\\\"lead\\\">See your matches...all you need to do is sign up!</p>\\n    <div>\\n      <button class=\\\"btn btn-primary mr-2\\\" (click)=\\\"addRegisterMode()\\\">Register</button>\\n      <button class=\\\"btn btn-info\\\">Learn more</button>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"registerMode\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-4 m-auto\\\">\\n        <app-register (cancelRegister)=\\\"cancelRegisterMode($event)\\\"></app-register>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  registerMode = false;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  addRegisterMode() {\n    this.registerMode = true;\n  }\n\n  cancelRegisterMode(registerMode: boolean) {\n    this.registerMode = registerMode;\n  }\n\n}\n","module.exports = \".filterLinks a:hover {\\r\\n    color:#29ABE0 !important;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterLinks a {\\r\\n    font-size: 15px !important;\\r\\n}\\r\\n\\r\\n.active {\\r\\n    color:#29ABE0 !important;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlzdHMvbGlzdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtJQUN6QixnQkFBZ0I7Q0FDbkI7O0FBRUQ7SUFDSSwyQkFBMkI7Q0FDOUI7O0FBRUQ7SUFDSSx5QkFBeUI7Q0FDNUIiLCJmaWxlIjoic3JjL2FwcC9saXN0cy9saXN0cy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbHRlckxpbmtzIGE6aG92ZXIge1xyXG4gICAgY29sb3I6IzI5QUJFMCAhaW1wb3J0YW50O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZmlsdGVyTGlua3MgYSB7XHJcbiAgICBmb250LXNpemU6IDE1cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmFjdGl2ZSB7XHJcbiAgICBjb2xvcjojMjlBQkUwICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  \\r\\n    <div class=\\\"text-center my-3\\\">\\r\\n      <h5>{{likesParams === 'likers' ? 'Members who like me' : 'Member who I\\\\'ve liked'}}</h5>\\r\\n    </div>\\r\\n\\r\\n<div class=\\\"row align-items-center\\\">\\r\\n      <label class=\\\"my-1\\\">Order By:</label>\\r\\n      <div class=\\\"filterLinks\\\">\\r\\n      <a class=\\\"mx-1\\\" (click)=\\\"changeLikes('likers')\\\" [class.active]=\\\"likesParams === 'likers'\\\">Members who like me</a>\\r\\n      <a class=\\\"mx-1\\\"(click)=\\\"changeLikes('likees')\\\" [class.active]=\\\"likesParams === 'likees'\\\">Member who I like</a>\\r\\n      </div>\\r\\n</div>\\r\\n  \\r\\n  \\r\\n<div class=\\\"mt-3\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div  *ngFor=\\\"let user of users\\\" class=\\\"col-sm-6 col-md-3 col-lg-2\\\">  \\r\\n      <app-member-card [user]=\\\"user\\\"></app-member-card>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-center\\\">\\r\\n  <pagination [boundaryLinks]=\\\"true\\\" [totalItems]=\\\"pagination.totalItems\\\" \\r\\n              [(ngModel)]=\\\"pagination.currentPage\\\"\\r\\n              [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\r\\n              (pageChanged)=\\\"pageChanged($event)\\\"\\r\\n            previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\r\\n \\r\\n  </pagination>\\r\\n</div>\\r\\n\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { User } from '../_models/user';\r\nimport { Pagination, PaginatedResult } from '../_models/pagination';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\r\n@Component({\r\n  selector: 'app-lists',\r\n  templateUrl: './lists.component.html',\r\n  styleUrls: ['./lists.component.css']\r\n})\r\nexport class ListsComponent implements OnInit {\r\n\r\n  users: User[];\r\n  pagination: Pagination;\r\n  likesParams = 'likers';\r\n\r\n  constructor(private authService: AuthService,\r\n              private userService: UserService,\r\n              private as: AlertifyService,\r\n              private route: ActivatedRoute) { }\r\n\r\n  ngOnInit() {\r\n    this.route.data.subscribe(data => {\r\n      this.users = data['users'].result;\r\n      this.pagination = data['users'].pagination;\r\n    });\r\n    this.loadUsers();\r\n  }\r\n\r\n  pageChanged(event: any): void {\r\n    console.log(event);\r\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\r\n\r\n  loadUsers() {\r\n    this.userService.getUsers(this.pagination.currentPage, this.pagination.itemsPerPage, null, this.likesParams)\r\n      .subscribe((res: PaginatedResult<User[]>)  => {\r\n        this.users = res.result;\r\n        this.pagination = res.pagination;\r\n      },\r\n      err => this.as.error(err));\r\n  }\r\n\r\n  changeLikes(likeType: string) {\r\n    this.likesParams = likeType;\r\n    this.loadUsers();\r\n  }\r\n\r\n}\r\n","module.exports = \".card img {\\r\\n    transition: all .4s;\\r\\n}\\r\\n\\r\\n.card:hover img{\\r\\n    -webkit-transform: scale(1.10);\\r\\n            transform: scale(1.10);\\r\\n    transition: all .6s;\\r\\n    opacity: .7;\\r\\n}\\r\\n\\r\\n.card-img-wrapper {\\r\\n    overflow: hidden; /* overflow wont go outside of div that image is in */\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.member-icons {\\r\\n    position: absolute;\\r\\n    bottom: 10%;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    margin: 0 auto;\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.card:hover .member-icons {\\r\\n    bottom: 10%;\\r\\n    opacity: 1;\\r\\n    transition: all .4s ease-out;\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZW1iZXItY2FyZC9tZW1iZXItY2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQW9CO0NBQ3ZCOztBQUVEO0lBQ0ksK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2QixvQkFBb0I7SUFDcEIsWUFBWTtDQUNmOztBQUVEO0lBQ0ksaUJBQWlCLENBQUMsc0RBQXNEO0lBQ3hFLG1CQUFtQjtDQUN0Qjs7QUFFRDtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osUUFBUTtJQUNSLFNBQVM7SUFDVCxlQUFlO0lBQ2YsV0FBVztDQUNkOztBQUVEO0lBQ0ksWUFBWTtJQUNaLFdBQVc7SUFDWCw2QkFBNkI7Q0FDaEMiLCJmaWxlIjoic3JjL2FwcC9tZW1iZXJzL21lbWJlci1jYXJkL21lbWJlci1jYXJkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCBpbWcge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIC40cztcclxufVxyXG5cclxuLmNhcmQ6aG92ZXIgaW1ne1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEwKTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAuNnM7XHJcbiAgICBvcGFjaXR5OiAuNztcclxufVxyXG5cclxuLmNhcmQtaW1nLXdyYXBwZXIge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjsgLyogb3ZlcmZsb3cgd29udCBnbyBvdXRzaWRlIG9mIGRpdiB0aGF0IGltYWdlIGlzIGluICovXHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5tZW1iZXItaWNvbnMge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAxMCU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIG9wYWNpdHk6IDA7XHJcbn1cclxuXHJcbi5jYXJkOmhvdmVyIC5tZW1iZXItaWNvbnMge1xyXG4gICAgYm90dG9tOiAxMCU7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIC40cyBlYXNlLW91dDtcclxufVxyXG5cclxuIl19 */\"","module.exports = \"<div class=\\\"card mb-4\\\">\\r\\n  <div class=\\\"card-img-wrapper\\\">\\r\\n    <img class=\\\"card-img-top img-fluid\\\" src=\\\"{{user.photoUrl || '../../../../../assets/user.png'}}\\\" alt=\\\"{{user.username}}\\\">\\r\\n    <ul class=\\\"list-inline member-icons animate text-center\\\">\\r\\n      <li class=\\\"list-inline-item\\\"><button class=\\\"btn btn-info\\\" [routerLink]=\\\"['/members/', user.id]\\\"><i class=\\\"fa fa-user\\\"></i></button></li>\\r\\n      <li class=\\\"list-inline-item\\\"><button class=\\\"btn btn-info\\\" (click)=\\\"sendLike(user.id)\\\"><i class=\\\"fa fa-heart\\\"></i></button></li>\\r\\n      <li class=\\\"list-inline-item\\\"><button class=\\\"btn btn-info\\\" [routerLink]=\\\"['/members/', user.id]\\\" [queryParams]=\\\"{tab: 3}\\\"><i class=\\\"fa fa-envelope\\\"></i></button></li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <div class=\\\"card-body p-1\\\">\\r\\n    <h6 class=\\\"card-title text-center mb-1\\\">{{user.username}}, {{user.age}}</h6>\\r\\n    <p class=\\\"card-text text-muted text-center\\\">{{user.city}}</p>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { User } from 'src/app/_models/user';\r\nimport { UserService } from 'src/app/_services/user.service';\r\nimport { AuthService } from 'src/app/_services/auth.service';\r\nimport { AlertifyService } from 'src/app/_services/alertify.service';\r\n\r\n@Component({\r\n  selector: 'app-member-card',\r\n  templateUrl: './member-card.component.html',\r\n  styleUrls: ['./member-card.component.css']\r\n})\r\nexport class MemberCardComponent implements OnInit {\r\n  @Input() user: User;\r\n\r\n  constructor(private authService: AuthService, private userService: UserService, private as: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  sendLike(recipientId: number) {\r\n    this.userService.sendLike(this.authService.decodedToken.nameid, recipientId).subscribe(data => {\r\n      this.as.success('You have liked ' + this.user.username);\r\n    }, err => this.as.error(err));\r\n  }\r\n\r\n}\r\n","module.exports = \".img-thumbnail {\\r\\n    height: auto;\\r\\n    max-width: 340px;\\r\\n    margin: 20px auto;  \\r\\n}\\r\\n/* margin auto because of bootstrap card, we would normally text-align: center; the card and image would be centered */\\r\\n.card-body {\\r\\n    padding: 0 25px;\\r\\n}\\r\\n.card-footer {\\r\\n    padding: 15px 25px;\\r\\n    background-color: #fff;\\r\\n    border-top: none;\\r\\n}\\r\\n.card {\\r\\n    margin-bottom: 50px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZW1iZXItZGV0YWlsL21lbWJlci1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsa0JBQWtCO0NBQ3JCO0FBQ0QsdUhBQXVIO0FBRXZIO0lBQ0ksZ0JBQWdCO0NBQ25CO0FBRUQ7SUFDSSxtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtDQUNwQjtBQUVEO0lBQ0ksb0JBQW9CO0NBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvbWVtYmVycy9tZW1iZXItZGV0YWlsL21lbWJlci1kZXRhaWwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWctdGh1bWJuYWlsIHtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1heC13aWR0aDogMzQwcHg7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bzsgIFxyXG59XHJcbi8qIG1hcmdpbiBhdXRvIGJlY2F1c2Ugb2YgYm9vdHN0cmFwIGNhcmQsIHdlIHdvdWxkIG5vcm1hbGx5IHRleHQtYWxpZ246IGNlbnRlcjsgdGhlIGNhcmQgYW5kIGltYWdlIHdvdWxkIGJlIGNlbnRlcmVkICovXHJcblxyXG4uY2FyZC1ib2R5IHtcclxuICAgIHBhZGRpbmc6IDAgMjVweDtcclxufVxyXG5cclxuLmNhcmQtZm9vdGVyIHtcclxuICAgIHBhZGRpbmc6IDE1cHggMjVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItdG9wOiBub25lO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xyXG59Il19 */\"","module.exports = \"<div class=\\\"container mt-4\\\">\\n  <div class=\\\"row\\\">\\n    <h1>{{user.username}}'s Profile</h1>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n      <div class=\\\"card\\\">\\n        <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{user.photoUrl || '../../../../../assets/user.png'}}\\\" alt=\\\"{{user.username}}\\\">\\n        <div class=\\\"card-body\\\">\\n          <div>\\n            <strong>Location:</strong>\\n            <p>{{user.city}}, {{user.country}}</p>\\n          </div>\\n          <div>\\n              <strong>Age:</strong>\\n              <p>{{user.age}}</p>\\n          </div>\\n          <div>\\n              <strong>Last Active:</strong>\\n              <p>{{user.lastActive | timeAgo}}</p> \\n          </div>\\n          <div>\\n              <strong>Member Since:</strong>\\n              <p>{{user.created | date}}</p>\\n          </div>\\n        </div>\\n        <div class=\\\"card-footer\\\">\\n          <div class=\\\"\\\"> \\n            <button class=\\\"btn btn-sm btn-primary m-1\\\">Like</button>\\n            <button class=\\\"btn btn-sm btn-info m-1\\\" (click)=\\\"selectTab(3)\\\">Message</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-md-8\\\">\\n      <div class=\\\"tab-panel\\\">\\n        <tabset class=\\\"member-tabset\\\" #memberTabs>\\n            <tab heading=\\\"About {{user.username}}\\\">\\n              <h4>Description</h4>\\n              <p>{{user.introduction}}</p>\\n              <h4>Looking For:</h4>\\n              <p>{{user.lookingFor}}</p>\\n            </tab>\\n            <tab heading=\\\"Interests\\\">\\n              <h4>Interests</h4>\\n              <p>{{user.interests}}</p>\\n            </tab>\\n          <tab heading=\\\"Photos\\\" class=\\\"px-1\\\" style=\\\"max-width: 400px;\\\">\\n              <h4>Photos</h4>\\n              <ngx-gallery [options]=\\\"galleryOptions\\\" [images]=\\\"galleryImages\\\"></ngx-gallery>\\n            </tab>\\n            <tab heading=\\\"Messages\\\">\\n              <h4>Messages</h4>\\n              <app-member-messages [recipientId]=\\\"user.id\\\"></app-member-messages>\\n            </tab>\\n        </tabset>\\n      </div>\\n    </div>\\n  </div>\\n\\n</div>\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { UserService } from 'src/app/_services/user.service';\r\nimport { User } from 'src/app/_models/user';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgxGalleryOptions, NgxGalleryImage, NgxGalleryAnimation } from 'ngx-gallery';\r\nimport { TabsetComponent } from 'ngx-bootstrap';\r\n\r\n\r\n@Component({\r\n  selector: 'app-member-detail',\r\n  templateUrl: './member-detail.component.html',\r\n  styleUrls: ['./member-detail.component.css']\r\n})\r\nexport class MemberDetailComponent implements OnInit {\r\n  user: User;\r\n  galleryOptions: NgxGalleryOptions[];\r\n  galleryImages: NgxGalleryImage[];\r\n  @ViewChild('memberTabs') memberTabs: TabsetComponent;\r\n\r\n  constructor(private userService: UserService, private route: ActivatedRoute) { }\r\n\r\n  ngOnInit() {\r\n    this.route.data.subscribe(data => {\r\n      this.user = data['user'];\r\n    });\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      const selectedTab = params['tab'];\r\n      if (selectedTab && selectedTab > 0) { this.selectTab(selectedTab); }\r\n    });\r\n\r\n  this.galleryOptions = [\r\n    {\r\n        width: '100%',\r\n        height: '480px',\r\n        imagePercent: 100,\r\n        thumbnailsColumns: 4,\r\n        imageAnimation: NgxGalleryAnimation.Slide,\r\n        preview: false\r\n    }\r\n  ];\r\n\r\n  this.galleryImages = this.getImages();\r\n\r\n}\r\n\r\ngetImages() {\r\n  const imageUrls = [];\r\n  for (const photo of this.user.photos) {\r\n    if (photo.isApproved) {\r\n    imageUrls.push({\r\n      small: photo.url,\r\n      medium: photo.url,\r\n      big: photo.url\r\n    });\r\n    }\r\n  }\r\n  return imageUrls;\r\n}\r\n\r\n  // not using now that we added a resolver\r\n  // loadUser() {\r\n    // console.log(+this.route.snapshot.paramMap.get('id'));  // same\r\n    // console.log(+this.route.snapshot.params['id']);\r\n  //   this.userService.getUser(+this.route.snapshot.params['id'])\r\n  //     .subscribe((user: User) => this.user = user,\r\n  //     err => this.as.error(err));\r\n  // }\r\n\r\n  selectTab(tabId: number) {\r\n    this.memberTabs.tabs[tabId].active = true;\r\n  }\r\n\r\n}\r\n","module.exports = \".img-thumbnail {\\r\\n    width: 85%;\\r\\n    height: 85%;\\r\\n    margin: 20px auto;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n    padding: 0 25px;\\r\\n}\\r\\n\\r\\n.card-footer {\\r\\n    padding: 15px 25px;\\r\\n    background-color: #fff;\\r\\n    border-top: none;\\r\\n}\\r\\n\\r\\n.card {\\r\\n    margin-bottom: 50px;\\r\\n}\\r\\n\\r\\nform h4 {\\r\\n    margin-top: 8px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZW1iZXItZWRpdC9tZW1iZXItZWRpdC9tZW1iZXItZWRpdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7Q0FDckI7O0FBRUQ7SUFDSSxnQkFBZ0I7Q0FDbkI7O0FBRUQ7SUFDSSxtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtDQUNwQjs7QUFFRDtJQUNJLG9CQUFvQjtDQUN2Qjs7QUFFRDtJQUNJLGdCQUFnQjtDQUNuQiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvbWVtYmVyLWVkaXQvbWVtYmVyLWVkaXQvbWVtYmVyLWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWctdGh1bWJuYWlsIHtcclxuICAgIHdpZHRoOiA4NSU7XHJcbiAgICBoZWlnaHQ6IDg1JTtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG59XHJcblxyXG4uY2FyZC1ib2R5IHtcclxuICAgIHBhZGRpbmc6IDAgMjVweDtcclxufVxyXG5cclxuLmNhcmQtZm9vdGVyIHtcclxuICAgIHBhZGRpbmc6IDE1cHggMjVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItdG9wOiBub25lO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4O1xyXG59XHJcblxyXG5mb3JtIGg0IHtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"container my-4\\\">\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-4\\\">\\n          <h1>Your Profile</h1>\\n      </div>\\n      <div *ngIf=\\\"editForm.dirty\\\" class=\\\"col-sm-8\\\">\\n        <div class=\\\"alert alert-info\\\"><strong>Information:</strong> You have made unsaved changes. Any unsaved changes will be lost.</div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-4\\\">\\n        <div class=\\\"card\\\">\\n          <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{photoUrl || '../../../../../../assets/user.png'}}\\\" alt=\\\"{{user.username}}\\\">\\n          <div class=\\\"card-body\\\">\\n            <div>\\n              <strong>Location:</strong>\\n              <p>{{user.city}}, {{user.country}}</p>\\n            </div>\\n            <div>\\n                <strong>Age:</strong>\\n                <p>{{user.age}}</p>\\n            </div>\\n            <div>\\n                <strong>Last Active:</strong>\\n                <p>{{user.lastActive | timeAgo}}</p>\\n            </div>\\n            <div>\\n                <strong>Member Since:</strong>\\n                <p>{{user.created | date}}</p>\\n            </div>\\n          </div>\\n          <div class=\\\"card-footer\\\">\\n            <div class=\\\"d-flex justify-content-center\\\"> \\n              <button [disabled]=\\\"!editForm.dirty\\\" form=\\\"editForm\\\"class=\\\"btn btn-primary btn-block\\\">Save Changes</button>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n  \\n      <div class=\\\"col-sm-8\\\">\\n        <div class=\\\"tab-panel\\\">\\n          <tabset class=\\\"member-tabset\\\">\\n              <tab heading=\\\"Edit Profile\\\">\\n                <form #editForm=\\\"ngForm\\\" id=\\\"editForm\\\"(ngSubmit)=\\\"updateUser()\\\">\\n                  <h4>Description</h4>\\n                  <textarea class=\\\"form-control\\\" name=\\\"introduction\\\" rows=\\\"6\\\" [(ngModel)]=\\\"user.introduction\\\"></textarea>\\n                  <h4>Looking For:</h4>\\n                  <textarea class=\\\"form-control\\\" name=\\\"lookingFor\\\" rows=\\\"6\\\" [(ngModel)]=\\\"user.lookingFor\\\"></textarea>\\n                  <h4>Interests:</h4>\\n                  <textarea class=\\\"form-control\\\" name=\\\"interests\\\" rows=\\\"6\\\" [(ngModel)]=\\\"user.interests\\\"></textarea>\\n                  <h4>Location Details: </h4>\\n                  <div class=\\\"form-inline\\\">\\n                    <label for=\\\"city\\\" class=\\\"mr-2\\\">City:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control mr-2 mb-1\\\" name=\\\"city\\\" [(ngModel)]=\\\"user.city\\\">\\n                    <label for=\\\"country\\\" class=\\\"mr-2\\\">Country:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control mb-1\\\" name=\\\"country\\\" [(ngModel)]=\\\"user.country\\\">\\n                  </div>\\n               </form>\\n              </tab>\\n              <tab heading=\\\"Edit Photos\\\">\\n                <app-photo-editor [photos]=\\\"user.photos\\\" (changeCurrentPhotoUrl)=\\\"updateMainPhoto($event)\\\"></app-photo-editor>\\n              </tab>\\n          </tabset>\\n        </div>\\n      </div>\\n    </div>\\n  \\n  </div>\"","import { Component, OnInit, ViewChild, HostListener } from '@angular/core';\nimport { UserService } from 'src/app/_services/user.service';\nimport { AlertifyService } from 'src/app/_services/alertify.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { User } from 'src/app/_models/user';\nimport { NgForm } from '@angular/forms';\nimport { AuthService } from 'src/app/_services/auth.service';\nimport { Photo } from 'src/app/_models/photo';\n\n@Component({\n  selector: 'app-member-edit',\n  templateUrl: './member-edit.component.html',\n  styleUrls: ['./member-edit.component.css']\n})\nexport class MemberEditComponent implements OnInit {\n  @ViewChild('editForm') editForm: NgForm;  // allows us to access form, (could have passed it into method)\n  user: User;\n  photoUrl: string;\n\n  @HostListener('window:beforeunload', ['$event'])  // for closing browser during edit\n  unloadNotification($event: any) {\n    if (this.editForm.dirty) {\n      $event.returnValue = true;\n    }\n  }\n\n  constructor(private authService: AuthService,\n              private userService: UserService,\n              private as: AlertifyService,\n              private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.route.data.subscribe(data => {\n      this.user = data['user'];\n    });\n    this.authService.currentPhotoUrl.subscribe(photoUrl => {\n      this.photoUrl = photoUrl;  // simply using main from from behavior subject and sub to it\n    });\n  }\n\n  updateUser() {\n    const tokenId = this.authService.decodedToken.nameid;\n    this.userService.updateUser(tokenId, this.user).subscribe(next => {\n      this.as.success('Profile updated successfully');\n      this.editForm.reset(this.user);  // param sets the form (no param clears it out)\n    },\n    err => this.as.error(err));\n  }\n\n  updateMainPhoto(photoUrl: string) {\n    // this.user.photoUrl = photoUrl;   not doing this, keeping it for ref\n    // console.log('main photo is now: ', photoUrl);\n  }\n\n}\n","module.exports = \".filterLinks a:hover {\\r\\n    color:#29ABE0 !important;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.filterLinks a {\\r\\n    font-size: 15px !important;\\r\\n}\\r\\n\\r\\n.active {\\r\\n    color:#29ABE0 !important;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZW1iZXItbGlzdC9tZW1iZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCLGdCQUFnQjtDQUNuQjs7QUFFRDtJQUNJLDJCQUEyQjtDQUM5Qjs7QUFFRDtJQUNJLHlCQUF5QjtDQUM1QiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvbWVtYmVyLWxpc3QvbWVtYmVyLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWx0ZXJMaW5rcyBhOmhvdmVyIHtcclxuICAgIGNvbG9yOiMyOUFCRTAgIWltcG9ydGFudDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmZpbHRlckxpbmtzIGEge1xyXG4gICAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5hY3RpdmUge1xyXG4gICAgY29sb3I6IzI5QUJFMCAhaW1wb3J0YW50O1xyXG59Il19 */\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  \\r\\n    <div class=\\\"text-center my-3\\\">\\r\\n      <h5>Your matches - {{pagination.totalItems}} found</h5>\\r\\n    </div>\\r\\n\\r\\n<div class=\\\"row my-2\\\">\\r\\n  <form #filterForm=\\\"ngForm\\\" (ngSubmit)=\\\"loadUsers()\\\" class=\\\"form-inline\\\" novalidate>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"minAge\\\" class=\\\"mr-1\\\">Age From:</label>\\r\\n      <input type=\\\"number\\\" class=\\\"form-control mr-2\\\" [(ngModel)]=\\\"userParams.minAge\\\" style=\\\"width: 60px\\\" id=\\\"minAge\\\" name=\\\"minAge\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"maxAge\\\" class=\\\"mr-1\\\">Age To:</label>\\r\\n      <input type=\\\"number\\\" class=\\\"form-control mr-2\\\" [(ngModel)]=\\\"userParams.maxAge\\\" style=\\\"width: 60px\\\" id=\\\"maxAge\\\" name=\\\"maxAge\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"gender\\\" class=\\\"mr-1\\\">Show:</label>\\r\\n      <select class=\\\"form-control mr-2\\\" [(ngModel)]=\\\"userParams.gender\\\" style=\\\"width: 100px\\\" id=\\\"gender\\\" name=\\\"gender\\\">\\r\\n        <option *ngFor=\\\"let gender of genderList\\\" [value]=\\\"gender.value\\\">\\r\\n          {{gender.display}}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"\\\">\\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-sm ml-1\\\">Search</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-info btn-sm ml-1\\\" (click)=\\\"resetFilters()\\\">Reset Filters</button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row align-items-center\\\">\\r\\n      <label class=\\\"my-1\\\">Order By:</label>\\r\\n      <div class=\\\"filterLinks\\\">\\r\\n      <a class=\\\"mx-1\\\" (click)=\\\"orderBy('lastActive')\\\" [class.active]=\\\"userParams.orderBy === 'lastActive'\\\">Last Active</a>\\r\\n      <a class=\\\"mx-1\\\"(click)=\\\"orderBy('created')\\\" [class.active]=\\\"userParams.orderBy === 'created'\\\">Newest Members</a>\\r\\n      </div>\\r\\n</div>\\r\\n  \\r\\n  \\r\\n<div class=\\\"mt-3\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div  *ngFor=\\\"let user of users\\\" class=\\\"col-sm-6 col-md-3 col-lg-2\\\">  \\r\\n      <app-member-card [user]=\\\"user\\\"></app-member-card>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-center\\\">\\r\\n  <pagination [boundaryLinks]=\\\"true\\\" [totalItems]=\\\"pagination.totalItems\\\" \\r\\n              [(ngModel)]=\\\"pagination.currentPage\\\"\\r\\n              [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\r\\n              (pageChanged)=\\\"pageChanged($event)\\\"\\r\\n            previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\r\\n \\r\\n  </pagination>\\r\\n</div>\\r\\n\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Pagination, PaginatedResult } from 'src/app/_models/pagination';\r\nimport { AlertifyService } from 'src/app/_services/alertify.service';\r\nimport { AuthService } from 'src/app/_services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-member-list',\r\n  templateUrl: './member-list.component.html',\r\n  styleUrls: ['./member-list.component.css']\r\n})\r\nexport class MemberListComponent implements OnInit {\r\n  users: User[];\r\n  user: User = this.authService.currentUser;\r\n  genderList = [{ value: 'male', display: 'Males' }, { value: 'female', display: 'Females' }];\r\n  userParams: any = {};\r\n  pagination: Pagination;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n    private authService: AuthService,\r\n    private userService: UserService,\r\n    private as: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.data.subscribe(data => {\r\n      this.users = data['users'].result;\r\n      this.pagination = data['users'].pagination;\r\n    });\r\n\r\n    this.userParams.gender = this.user.gender === 'male' ? 'female' : 'male';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.userParams.orderBy = 'lastActive';\r\n  }\r\n\r\n  orderBy(orderBy: string): void {\r\n    this.userParams.orderBy = orderBy;\r\n    this.loadUsers();\r\n  }\r\n\r\n  resetFilters() {\r\n    this.userParams.gender = this.user.gender === 'male' ? 'female' : 'male';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.userParams.orderBy = 'lastActive';\r\n    this.loadUsers();\r\n  }\r\n\r\n  pageChanged(event: any): void {\r\n    console.log(event);\r\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\r\n\r\n  // resolver is doing initial load\r\n  loadUsers() {\r\n    this.userService.getUsers(this.pagination.currentPage, this.pagination.itemsPerPage, this.userParams)\r\n      .subscribe((res: PaginatedResult<User[]>)  => {\r\n        this.users = res.result;\r\n        this.pagination = res.pagination;\r\n      },\r\n      err => this.as.error(err));\r\n  }\r\n\r\n}\r\n","module.exports = \"card {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat {\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat li {\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px solid #b3a9a9;\\r\\n}\\r\\n\\r\\n.rounded-circle {\\r\\n    height: 50px;\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n    overflow-y: scroll;\\r\\n    height: 400px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9tZW1iZXItbWVzc2FnZXMvbWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0NBQ2hCOztBQUVEO0lBQ0ksaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixXQUFXO0NBQ2Q7O0FBRUQ7SUFDSSxvQkFBb0I7SUFDcEIscUJBQXFCO0lBQ3JCLGlDQUFpQztDQUNwQzs7QUFFRDtJQUNJLGFBQWE7SUFDYixZQUFZO0NBQ2Y7O0FBRUQ7SUFDSSxtQkFBbUI7SUFDbkIsY0FBYztDQUNqQiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvbWVtYmVyLW1lc3NhZ2VzL21lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiY2FyZCB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbn1cclxuXHJcbi5jaGF0IHtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4uY2hhdCBsaSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2IzYTlhOTtcclxufVxyXG5cclxuLnJvdW5kZWQtY2lyY2xlIHtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG59XHJcblxyXG4uY2FyZC1ib2R5IHtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIGhlaWdodDogNDAwcHg7XHJcbn0iXX0= */\"","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n    <div *ngIf=\\\"!messages?.length\\\"><p>No messages yet..</p></div>\\n\\n    <div *ngIf=\\\"messages?.length\\\">\\n      <ul class=\\\"chat\\\">\\n        <li *ngFor=\\\"let message of messages\\\">\\n          <!-- to me -->\\n          <div *ngIf=\\\"message.senderId == recipientId\\\" class=\\\"d-flex\\\">\\n            <span class=\\\"chat-img\\\"><img src=\\\"{{message.senderPhotoUrl}}\\\" alt=\\\"{{message.senderUsername}}\\\" class=\\\"mr-2 rounded-circle\\\"></span>\\n            <div class=\\\"chat-body flex-grow-1\\\">\\n                <div class=\\\"d-flex flex-column\\\">\\n                  <div class=\\\"d-flex justify-content-between\\\">\\n                    <strong class=\\\"text-primary\\\">{{message.senderUsername}}</strong>\\n                    <span class=\\\"text-muted\\\">{{message.messageSent | timeAgo}}</span>\\n                  </div>\\n                <div>{{message.content}}</div>\\n                </div>\\n            </div>\\n          </div>\\n\\n          <!-- to them -->\\n          <div *ngIf=\\\"message.senderId == authService.decodedToken.nameid\\\" class=\\\"d-flex\\\">\\n              <div class=\\\"chat-body flex-grow-1\\\">\\n                  <div class=\\\"d-flex flex-column\\\">\\n                    <div class=\\\"d-flex justify-content-between\\\">\\n                      <div>\\n                        <span class=\\\"text-muted\\\">{{message.messageSent | timeAgo}}</span>\\n                        <span *ngIf=\\\"!message.isRead\\\" class=\\\"ml-1 text-warning\\\">(unread)</span>\\n                       </div>\\n                      <span *ngIf=\\\"message.isRead\\\">(read {{message.dateRead | timeAgo}})</span>\\n                    </div>\\n                  <div>{{message.content}}</div>\\n                  </div>\\n              </div>\\n              <strong class=\\\"text-primary mr-2\\\">{{message.senderUsername}}</strong>\\n              <span class=\\\"chat-img\\\"><img src=\\\"{{message.senderPhotoUrl}}\\\" alt=\\\"{{message.senderUsername}}\\\" class=\\\"rounded-circle\\\"></span>\\n            </div>\\n        </li>\\n      </ul>\\n    </div>\\n\\n    <div class=\\\"card-footer\\\">\\n      <form #messageForm=\\\"ngForm\\\" (ngSubmit)=\\\"messageForm.valid && sendMessage()\\\">\\n        <div class=\\\"input-group\\\">\\n          <input type=\\\"text\\\" [(ngModel)]=\\\"newMessage.content\\\" name=\\\"content\\\" required class=\\\"form-control input-sm\\\" placeholder=\\\"Send a private message\\\">\\n          <div class=\\\"input-group-append\\\">\\n            <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!messageForm.valid\\\" >Send</button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Message } from '../../_models/message';\nimport { AuthService } from 'src/app/_services/auth.service';\nimport { UserService } from 'src/app/_services/user.service';\nimport { AlertifyService } from 'src/app/_services/alertify.service';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-member-messages',\n  templateUrl: './member-messages.component.html',\n  styleUrls: ['./member-messages.component.css']\n})\nexport class MemberMessagesComponent implements OnInit {\n  @Input() recipientId: number;\n  messages: Message[];\n  newMessage: any = {};\n\n  constructor(public authService: AuthService, private userService: UserService, private as: AlertifyService) { }\n\n  ngOnInit() {\n    this.loadMessages();\n  }\n\n  loadMessages() {\n    const currentUserId = this.authService.currentUser.id;\n    this.userService.getMessageThread(this.authService.decodedToken.nameid, this.recipientId)\n    .pipe(tap(messages => {\n      for (const message of messages) {\n        if (message.isRead === false && message.recipientId === currentUserId) {\n        this.userService.markAsRead(currentUserId, message.id);\n        }\n      }\n    }))\n    .subscribe((res: Message[]) => {\n      this.messages = res;\n    }, err => this.as.error(err));\n  }\n\n  sendMessage() {\n    this.newMessage.recipientId = this.recipientId;\n    this.userService.sendMessage(this.authService.decodedToken.nameid, this.newMessage).subscribe((res: Message) => {\n      this.messages.push(res);\n      this.newMessage.content = '';  // could have accessed form w viewchild and used reset()\n    }, err => this.as.error(err));\n  }\n\n}\n","module.exports = \"  img.img-fluid {\\r\\n    margin-bottom: 2px;\\r\\n} \\r\\n\\r\\n.editThumbnail {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    opacity: .2;\\r\\n} \\r\\n\\r\\n.undapp {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translate(-50%, -50%);\\r\\n            transform: translate(-50%, -50%);\\r\\n} \\r\\n\\r\\n/* @media (max-width: 575.98px) {\\r\\n    div.text-center {\\r\\n        text-align: left !important;\\r\\n    }   \\r\\n    img.img-fluid {\\r\\n        max-height: 100px !important;\\r\\n        max-width: 100px !important;\\r\\n    }\\r\\n} */ \\r\\n\\r\\n.nv-file-over {\\r\\n    border: dotted 3px red;\\r\\n} \\r\\n\\r\\n/*hides text next to inputs*/ \\r\\n\\r\\ninput[type=file] {\\r\\n    color: transparent;\\r\\n} \\r\\n\\r\\n.main-button:hover:enabled, .trash-button:hover:enabled {\\r\\n    color: #007bff;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9waG90by1lZGl0b3IvcGhvdG8tZWRpdG9yLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkVBQUU7SUFDRSxtQkFBbUI7Q0FDdEI7O0FBRUQ7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLFlBQVk7Q0FDZjs7QUFFRDtJQUNJLG1CQUFtQjtJQUNuQixTQUFTO0lBQ1QsVUFBVTtJQUNWLHlDQUFpQztZQUFqQyxpQ0FBaUM7Q0FDcEM7O0FBRUQ7Ozs7Ozs7O0lBUUk7O0FBRUo7SUFDSSx1QkFBdUI7Q0FDMUI7O0FBRUQsNkJBQTZCOztBQUM3QjtJQUNJLG1CQUFtQjtDQUN0Qjs7QUFFRDtJQUNJLGVBQWU7Q0FDbEIiLCJmaWxlIjoic3JjL2FwcC9tZW1iZXJzL3Bob3RvLWVkaXRvci9waG90by1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiAgaW1nLmltZy1mbHVpZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbn0gXHJcblxyXG4uZWRpdFRodW1ibmFpbCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG9wYWNpdHk6IC4yO1xyXG59XHJcblxyXG4udW5kYXBwIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbn1cclxuXHJcbi8qIEBtZWRpYSAobWF4LXdpZHRoOiA1NzUuOThweCkge1xyXG4gICAgZGl2LnRleHQtY2VudGVyIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbiAgICB9ICAgXHJcbiAgICBpbWcuaW1nLWZsdWlkIHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAxMDBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIG1heC13aWR0aDogMTAwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxufSAqL1xyXG5cclxuLm52LWZpbGUtb3ZlciB7XHJcbiAgICBib3JkZXI6IGRvdHRlZCAzcHggcmVkO1xyXG59XHJcblxyXG4vKmhpZGVzIHRleHQgbmV4dCB0byBpbnB1dHMqL1xyXG5pbnB1dFt0eXBlPWZpbGVdIHtcclxuICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLm1haW4tYnV0dG9uOmhvdmVyOmVuYWJsZWQsIC50cmFzaC1idXR0b246aG92ZXI6ZW5hYmxlZCB7XHJcbiAgICBjb2xvcjogIzAwN2JmZjtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-4 col-md-3\\\" *ngFor=\\\"let photo of photos\\\">\\r\\n        <img src=\\\"{{photo.url}}\\\" class=\\\"img-fluid p-1 editThumbnail\\\" alt=\\\"{{photo.description}}\\\">\\r\\n        <div *ngIf=\\\"!photo.isApproved\\\">\\r\\n        </div>\\r\\n    <div class=\\\"text-center\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm main-button mr-1\\\"\\r\\n       (click)=\\\"setMainPhoto(photo)\\\" \\r\\n       [disabled]=\\\"photo.isMain || !photo.isApproved\\\"\\r\\n       [ngClass]=\\\"photo.isMain ? 'btn-info' : 'btn-default'\\\" \\r\\n       >\\r\\n       Main\\r\\n    </button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm trash-button\\\" \\r\\n      (click)=\\\"deletePhoto(photo.id)\\\"\\r\\n      [disabled]=\\\"photo.isMain\\\">\\r\\n      <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n    </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- both these work\\r\\n [ngClass]=\\\"{'btn-success active': photo.isMain == true}\\\"\\r\\n [ngClass]=\\\"photo.isMain ? 'btn-success active' : 'btn-default'\\\" -->\\r\\n<div class=\\\"row mt-3\\\">\\r\\n \\r\\n    <div class=\\\"col-md-3\\\">\\r\\n\\r\\n        <h3>Add Photos</h3>\\r\\n\\r\\n        <div ng2FileDrop\\r\\n             [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\"\\r\\n             (fileOver)=\\\"fileOverBase($event)\\\"\\r\\n             [uploader]=\\\"uploader\\\"\\r\\n             class=\\\"card bg-faded p-3 text-center mb-3 my-drop-zone\\\">\\r\\n             <i class=\\\"fa fa-upload fa-2x\\\"></i>\\r\\n            Drop Photos Here\\r\\n        </div>\\r\\n\\r\\n        Multiple\\r\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" multiple  /><br/>\\r\\n\\r\\n        Single\\r\\n        <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"uploader?.queue?.length\\\" class=\\\"col-md-9\\\" style=\\\"margin-bottom: 40px\\\">\\r\\n\\r\\n        <h3>Upload queue</h3>\\r\\n        <p>Queue length: {{ uploader?.queue?.length }}</p>\\r\\n\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n            <tr>\\r\\n                <th width=\\\"50%\\\">Name</th>\\r\\n                <th>Size</th>\\r\\n            </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n            <tr *ngFor=\\\"let item of uploader.queue\\\">\\r\\n                <td><strong>{{ item?.file?.name }}</strong></td>\\r\\n                <td *ngIf=\\\"uploader.options.isHTML5\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n\\r\\n        <div>\\r\\n            <div>\\r\\n                Queue progress:\\r\\n                <div class=\\\"progress mb-4\\\">\\r\\n                    <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-success btn-s\\\"\\r\\n                    (click)=\\\"uploader.uploadAll()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\r\\n                <span class=\\\"fa fa-upload\\\"></span> Upload\\r\\n            </button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-warning btn-s\\\"\\r\\n                    (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\r\\n                <span class=\\\"fa fa-ban\\\"></span> Cancel\\r\\n            </button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger btn-s\\\"\\r\\n                    (click)=\\\"uploader.clearQueue()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\r\\n                <span class=\\\"fa fa-trash\\\"></span> Remove\\r\\n            </button>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Photo } from 'src/app/_models/photo';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { environment } from 'src/environments/environment';  // angular will select env we are in\r\nimport { AuthService } from 'src/app/_services/auth.service';\r\nimport { UserService } from 'src/app/_services/user.service';\r\nimport { AlertifyService } from 'src/app/_services/alertify.service';\r\n\r\n@Component({\r\n  selector: 'app-photo-editor',\r\n  templateUrl: './photo-editor.component.html',\r\n  styleUrls: ['./photo-editor.component.css']\r\n})\r\nexport class PhotoEditorComponent implements OnInit {\r\n  @Input() photos: Photo[];\r\n  @Output() changeCurrentPhotoUrl = new EventEmitter<string>();\r\n  uploader: FileUploader;\r\n  hasBaseDropZoneOver = false;\r\n  baseUrl = environment.apiUrl;\r\n  currentMain: Photo;\r\n\r\n  constructor(private authService: AuthService, private userService: UserService, private as: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n    this.initializeUploadeder();\r\n  }\r\n\r\n  fileOverBase(e: any): void {\r\n    this.hasBaseDropZoneOver = e;\r\n  }\r\n\r\n  initializeUploadeder() {\r\n    this.uploader = new FileUploader({\r\n      url: this.baseUrl + 'users/' + this.authService.decodedToken.nameid + '/photos',\r\n      authToken: 'Bearer ' + localStorage.getItem('token'),\r\n      isHTML5: true,\r\n      allowedFileType: ['image'],\r\n      removeAfterUpload: true,\r\n      autoUpload: false,\r\n      maxFileSize:  10 * 1024 * 1024\r\n    });\r\n\r\n    this.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };  // fixes cors issue\r\n\r\n    this.uploader.onSuccessItem = (item, response, status, header) => {\r\n      if (response) {  // response is string, JSON.Parse converts it into object (because photo is an object)\r\n        console.log('res', response); // is from api\r\n        const res: Photo = JSON.parse(response);\r\n        const photo = {\r\n          id: res.id,\r\n          url: res.url,\r\n          dateAdded: res.dateAdded,\r\n          description: res.description,\r\n          isMain: res.isMain,  // api sets it to main if first photo\r\n          isApproved: res.isApproved\r\n        };\r\n        this.photos.push(photo);\r\n        if (photo.isMain) {   // important for first photo uploaded to show instantly througout app (lec 130)\r\n          this.authService.changeMemberPhoto(photo.url);\r\n          this.authService.currentUser.photoUrl = photo.url;\r\n          localStorage.setItem('user', JSON.stringify(this.authService.currentUser));\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  setMainPhoto(photo: Photo) {\r\n    this.userService.setMainPhoto(this.authService.decodedToken.nameid, photo.id).subscribe(() => {\r\n      // find returns after it satisfies, better than filter which loops through everything\r\n      // this works since arrays are passed by reference\r\n      this.currentMain = this.photos.find(p => p.isMain === true);\r\n      this.currentMain.isMain = false;\r\n      photo.isMain = true;\r\n\r\n      // this.changeCurrentPhotoUrl.emit(photo.url);  // for demo, not doing this since adding behavior subject\r\n\r\n      this.authService.changeMemberPhoto(photo.url);\r\n      this.authService.currentUser.photoUrl = photo.url;\r\n      localStorage.setItem('user', JSON.stringify(this.authService.currentUser));  // database was updated but were staying logged in\r\n    }, err => {\r\n      this.as.error(err);\r\n    });\r\n  }\r\n\r\n  deletePhoto(id: number) {\r\n    this.as.confirm('Are you sure you want to delete this photo?', () => {\r\n      this.userService.deletePhoto(this.authService.decodedToken.nameid, id).subscribe(() => {\r\n        const photoIndex = this.photos.findIndex(p => p.id === id);\r\n        this.photos.splice(photoIndex, 1);    // could use filter\r\n        this.as.success('Photo deleted');\r\n      }, err => this.as.error('Failed to delete the photo'));\r\n    });\r\n  }\r\n}\r\n","module.exports = \"table {\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\n.img-circle {\\r\\n    max-width: 50px;\\r\\n}\\r\\n\\r\\ntd {\\r\\n    vertical-align: middle;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVzc2FnZXMvbWVzc2FnZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtDQUNwQjs7QUFFRDtJQUNJLGdCQUFnQjtDQUNuQjs7QUFFRDtJQUNJLHVCQUF1QjtDQUMxQiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xyXG59XHJcblxyXG4uaW1nLWNpcmNsZSB7XHJcbiAgICBtYXgtd2lkdGg6IDUwcHg7XHJcbn1cclxuXHJcbnRkIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn0iXX0= */\"","module.exports = \"<div class=\\\"container mt-5\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"btn-group\\\">\\n        <button class=\\\"btn btn-primary\\\" [(ngModel)]=\\\"messageContainer\\\" btnRadio=\\\"Unread\\\" (click)=\\\"loadMessages()\\\">\\n          <i class=\\\"fa fa-envelope\\\"></i> Unread\\n        </button>\\n        <button class=\\\"btn btn-primary\\\" [(ngModel)]=\\\"messageContainer\\\" btnRadio=\\\"Inbox\\\" (click)=\\\"loadMessages()\\\">\\n          <i class=\\\"fa fa-envelope-open\\\"></i> Inbox\\n        </button>\\n        <button class=\\\"btn btn-primary\\\" [(ngModel)]=\\\"messageContainer\\\" btnRadio=\\\"Outbox\\\" (click)=\\\"loadMessages()\\\">\\n          <i class=\\\"fa fa-paper-plane\\\"></i> Outbox\\n        </button>\\n      </div>\\n    </div>\\n  \\n    <div class=\\\"row mt-4\\\" *ngIf=\\\"messages.length == 0\\\">\\n      <h3>No messages</h3>\\n    </div>\\n  \\n    <div class=\\\"row\\\" *ngIf=\\\"messages.length > 0\\\">\\n      <table class=\\\"table table-hover\\\" style=\\\"cursor: pointer\\\">\\n        <tr>\\n          <th style=\\\"width: 40%\\\">Message</th>\\n          <th style=\\\"width: 20%\\\">From / To</th>\\n          <th style=\\\"width: 20%\\\">Sent / Received</th>\\n          <th style=\\\"width: 20%\\\"></th>\\n        </tr>\\n        <tr *ngFor=\\\"let message of messages\\\" [routerLink]=\\\"['/members', \\n          messageContainer == 'Outbox' ? message.recipientId : message.senderId]\\\" [queryParams]=\\\"{tab: 3}\\\">\\n          <td>{{message.content}}</td>\\n          <td>\\n            <div *ngIf=\\\"messageContainer != 'Outbox'\\\">\\n                  <img src={{message?.senderPhotoUrl}} class=\\\"img-circle rounded-circle mr-1\\\">\\n                  <strong>{{message.senderUsername}}</strong>\\n            </div>\\n            <div *ngIf=\\\"messageContainer == 'Outbox'\\\">\\n                  <img src={{message?.recipientPhotoUrl}} class=\\\"img-circle rounded-circle mr-1\\\">\\n                  <strong>{{message.recipientUsername}}</strong>\\n            </div>\\n          </td>\\n          <td>{{message.messageSent | timeAgo}}</td>\\n          <td><button class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"$event.stopPropagation()\\\" (click)=\\\"deleteMessage(message.id)\\\">Delete</button></td>\\n        </tr>\\n      </table>\\n  \\n    </div>\\n  </div>\\n\\n  <div class=\\\"d-flex justify-content-center\\\">\\n    <pagination [boundaryLinks]=\\\"true\\\" \\n                  [totalItems]=\\\"pagination.totalItems\\\"\\n                  [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\n                  [(ngModel)]=\\\"pagination.currentPage\\\"\\n                  (pageChanged)=\\\"pageChanged($event)\\\"\\n                previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\n    </pagination>\\n  </div>\"","import { Component, OnInit } from '@angular/core';\nimport { Message } from '../_models/message';\nimport { Pagination, PaginatedResult } from '../_models/pagination';\nimport { AuthService } from '../_services/auth.service';\nimport { UserService } from '../_services/user.service';\nimport { AlertifyService } from '../_services/alertify.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n  messages: Message[];\n  pagination: Pagination;\n  messageContainer = 'Unread';\n\n  constructor(private authService: AuthService,\n    private userService: UserService,\n    private as: AlertifyService,\n    private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.route.data.subscribe(data => {\n      this.messages = data['messages'].result;\n      this.pagination = data['messages'].pagination;\n    });\n  }\n\n  loadMessages() {\n    this.userService.getMessages(this.authService.decodedToken.nameid, this.pagination.currentPage,\n      this.pagination.itemsPerPage, this.messageContainer)\n      .subscribe((res: PaginatedResult<Message[]>) => {\n        this.messages = res.result;\n        this.pagination = res.pagination;\n      },\n        err => this.as.error(err));\n  }\n\n  deleteMessage(id: number) {\n    this.as.confirm('Are you sure you want to delete this message?', () => {\n        this.userService.deleteMessage(this.authService.decodedToken.nameid, id).subscribe(() => {\n          this.messages = this.messages.filter(m => m.id !== id);\n          this.as.success('Message deleted');\n      }, err => this.as.error(err));\n    });\n  }\n\n  pageChanged(event: any): void {\n    console.log(event);\n    this.pagination.currentPage = event.page;\n    this.loadMessages();\n  }\n\n}\n","module.exports = \".droptown-toggle, .dropdown-item {\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\nimg {\\r\\n    height: auto;\\r\\n    max-width: 40px;\\r\\n    border: 1px solid #fff;\\r\\n    border-radius: 3px;\\r\\n}\\r\\n\\r\\n@media (max-width: 575.98px) { \\r\\n    .navbar-brand {\\r\\n        margin-top: 10px;\\r\\n    }\\r\\n\\r\\n    .loginForm {\\r\\n        margin-top: 10px;\\r\\n        padding: 0 10px;\\r\\n    }\\r\\n\\r\\n    .loginForm input {\\r\\n        margin: 7px 0;\\r\\n    }\\r\\n }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmF2L25hdi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0NBQ25COztBQUVEO0lBQ0ksYUFBYTtJQUNiLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsbUJBQW1CO0NBQ3RCOztBQUdEO0lBQ0k7UUFDSSxpQkFBaUI7S0FDcEI7O0lBRUQ7UUFDSSxpQkFBaUI7UUFDakIsZ0JBQWdCO0tBQ25COztJQUVEO1FBQ0ksY0FBYztLQUNqQjtFQUNIIiwiZmlsZSI6InNyYy9hcHAvbmF2L25hdi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRyb3B0b3duLXRvZ2dsZSwgLmRyb3Bkb3duLWl0ZW0ge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG5pbWcge1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgbWF4LXdpZHRoOiA0MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxufVxyXG5cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA1NzUuOThweCkgeyBcclxuICAgIC5uYXZiYXItYnJhbmQge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmxvZ2luRm9ybSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmxvZ2luRm9ybSBpbnB1dCB7XHJcbiAgICAgICAgbWFyZ2luOiA3cHggMDtcclxuICAgIH1cclxuIH0iXX0= */\"","module.exports = \"<nav class=\\\"navbar navbar-expand-sm navbar-dark bg-primary\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n\\r\\n      <div class=\\\"navbar-header\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"navbar-toggler collapsed\\\" (click)=\\\"isCollapsed = !isCollapsed\\\">\\r\\n              <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n          </button>\\r\\n          <a class=\\\"navbar-brand d-none d-sm-inline\\\" [routerLink]=\\\"['/home']\\\">Dating App</a>\\r\\n      </div>\\r\\n\\r\\n    <div id=\\\"navbar\\\" class=\\\"navbar-collapse\\\" [collapse]=\\\"isCollapsed\\\">\\r\\n    <ul *ngIf=\\\"loggedIn()\\\" class=\\\"nav navbar-nav mr-auto\\\">\\r\\n      <li>\\r\\n      <a class=\\\"navbar-brand d-block d-sm-none\\\" [routerLink]=\\\"['/home']\\\">Dating App</a>\\r\\n    </li>\\r\\n      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n        <a class=\\\"nav-link\\\" [routerLink]=\\\"['/members']\\\">Matches</a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n          <a class=\\\"nav-link\\\" [routerLink]=\\\"['/lists']\\\">Lists</a>\\r\\n        </li>\\r\\n        <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/messages']\\\">Messages</a>\\r\\n        </li>\\r\\n        <li *appHasRole=\\\"['Admin', 'Moderator']\\\" class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n          <a class=\\\"nav-link\\\" [routerLink]=\\\"['/admin']\\\">Admin</a>\\r\\n        </li>\\r\\n        <div class=\\\"d-block d-sm-none\\\">\\r\\n        <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/member/edit']\\\">Edit Profile</a>\\r\\n          </li>\\r\\n          <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" >\\r\\n              <a class=\\\"nav-link\\\" (click)=\\\"logout()\\\">Logout</a>\\r\\n        </li>\\r\\n      </div>\\r\\n    </ul>\\r\\n\\r\\n\\r\\n    <div *ngIf=\\\"loggedIn()\\\" class=\\\"dropdown d-none d-sm-block\\\" dropdown>\\r\\n\\r\\n      <span class=\\\"mr-2\\\">\\r\\n        <img src=\\\"{{photoUrl || '../../../../assets/user.png'}}\\\" alt=\\\"{{username}}\\\">\\r\\n      </span>\\r\\n      <a class=\\\"dropdown-toggle text-light\\\" dropdownToggle>\\r\\n        Welcome {{ authService.decodedToken?.unique_name | titlecase }}\\r\\n      </a>\\r\\n      \\r\\n      <div class=\\\"dropdown-menu mt-3\\\" *dropdownMenu>\\r\\n        <a class=\\\"dropdown-item\\\" [routerLink]=\\\"['/member/edit']\\\">Edit Profile</a>\\r\\n        <div class=\\\"dropdown-divider\\\"></div>\\r\\n        <a class=\\\"dropdown-item\\\" (click)=\\\"logout()\\\">Logout</a>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <form *ngIf=\\\"!loggedIn()\\\" #loginForm=\\\"ngForm\\\" class=\\\"ml-auto form-inline loginForm\\\" (ngSubmit)=\\\"login(loginForm)\\\">\\r\\n      <input class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\" name=\\\"username\\\" #username=\\\"ngModel\\\" placeholder=\\\"Username\\\" required [(ngModel)]=\\\"model.username\\\">\\r\\n      <input class=\\\"form-control mr-sm-2\\\" type=\\\"password\\\" name=\\\"password\\\" #password=\\\"ngModel\\\" placeholder=\\\"Password\\\" required [(ngModel)]=\\\"model.password\\\">\\r\\n      <button [disabled]=\\\"!loginForm.valid\\\" class=\\\"btn btn-success my-2 my-sm-0\\\" type=\\\"submit\\\">Login</button>\\r\\n    </form>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n</nav>\\r\\n\\r\\n<!-- loginForm, usernmae, password have valid, touched, dirty, value -->\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../_services/auth.service';\nimport { NgForm } from '@angular/forms';\nimport { AlertifyService } from '../_services/alertify.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.css']\n})\nexport class NavComponent implements OnInit {\n  model: any = {};\n  photoUrl: string;\n  isCollapsed = true;\n\n  // public so we can use it in our template, might be a lint issue\n  constructor(public authService: AuthService, private as: AlertifyService, private router: Router) { }\n\n  ngOnInit() {\n    this.authService.currentPhotoUrl.subscribe(photoUrl => {\n      this.photoUrl = photoUrl;    // simply using main from from behavior subject and sub to it\n    });\n  }\n\n  login(loginForm: NgForm) {\n    // console.log(loginForm); dont check if form is valid before sending, then nothing would happen, better to get error back and handle it\n      this.authService.login(this.model).subscribe(next => {\n        this.as.success('Logged in successfully');\n        loginForm.control.reset();\n      }, err => {\n        this.as.error(err);\n      }, () => {\n        this.router.navigate(['/members']);  // could have put this in next option\n      });\n  }\n\n  logout() {\n    this.authService.logout();\n    this.as.message('logged out');\n    this.router.navigate(['/home']);\n  }\n\n  loggedIn() {\n    return this.authService.loggedIn();\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n  <h2 class=\\\"text-center text-primary\\\">Sign Up</h2>\\n  <hr>\\n\\n  <div class=\\\"form-group\\\">\\n    <label class=\\\"form-check-label mr-2\\\">Gender: </label>\\n    <div class=\\\"form-check form-check-inline\\\">\\n    <label class=\\\"form-check-label\\\">\\n      <input type=\\\"radio\\\" class=\\\"form-check-input\\\" value=\\\"male\\\" formControlName=\\\"gender\\\">Male\\n    </label>\\n    </div>\\n    <div class=\\\"form-check form-check-inline\\\">\\n    <label class=\\\"form-check-label\\\">\\n      <input type=\\\"radio\\\" class=\\\"form-check-input\\\" value=\\\"female\\\" formControlName=\\\"gender\\\">Female\\n      </label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n    <input type=\\\"text\\\" \\n    [ngClass]=\\\"{'is-invalid': registerForm.get('username').errors && registerForm.get('username').touched}\\\"\\n    class=\\\"form-control\\\" \\n    formControlName=\\\"username\\\" \\n    placeholder=\\\"username\\\">\\n    <div class=\\\"invalid-feedback\\\">Please choose a username</div>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n      <input type=\\\"text\\\" \\n      [ngClass]=\\\"{'is-invalid': registerForm.get('dateOfBirth').errors && registerForm.get('dateOfBirth').touched}\\\"\\n      class=\\\"form-control\\\" \\n      formControlName=\\\"dateOfBirth\\\" \\n      placeholder=\\\"dd/mm/yy\\\"\\n      [bsConfig]=\\\"bsConfig\\\"\\n      bsDatepicker >\\n      <div class=\\\"invalid-feedback\\\">Date of birth required</div>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n      <input type=\\\"text\\\" \\n      [ngClass]=\\\"{'is-invalid': registerForm.get('city').errors && registerForm.get('city').touched}\\\"\\n      class=\\\"form-control\\\" \\n      formControlName=\\\"city\\\" \\n      placeholder=\\\"City\\\">\\n      <div class=\\\"invalid-feedback\\\">City required</div>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n      <input type=\\\"text\\\" \\n      [ngClass]=\\\"{'is-invalid': registerForm.get('country').errors && registerForm.get('country').touched}\\\"\\n      class=\\\"form-control\\\" \\n      formControlName=\\\"country\\\" \\n      placeholder=\\\"Country\\\">\\n      <div class=\\\"invalid-feedback\\\">Country required</div>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n    <input type=\\\"password\\\" \\n    [ngClass]=\\\"{'is-invalid': registerForm.get('password').errors && registerForm.get('password').touched}\\\" \\n    class=\\\"form-control\\\" \\n    formControlName=\\\"password\\\" \\n    placeholder=\\\"password\\\">\\n    <div class=\\\"invalid-feedback\\\"\\n    *ngIf=\\\"registerForm.get('password').hasError('required') && registerForm.get('password').touched\\\">\\n      Password required\\n    </div>\\n    <div class=\\\"invalid-feedback\\\"\\n    *ngIf=\\\"registerForm.get('password').hasError('minlength') || registerForm.get('password').hasError('maxlength') && registerForm.get('password').touched\\\">\\n      Password must be between 4 and 10 characters\\n    </div>\\n  </div>\\n  <div class=\\\"form-group\\\">\\n      <input type=\\\"password\\\" \\n      [ngClass]=\\\"{'is-invalid': registerForm.get('confirmPassword').errors && registerForm.get('confirmPassword').touched ||\\n      registerForm.hasError('mismatch') && registerForm.get('confirmPassword').touched}\\\"       \\n      class=\\\"form-control\\\" \\n      formControlName=\\\"confirmPassword\\\" \\n      placeholder=\\\"Confirm Password\\\">\\n    <div class=\\\"invalid-feedback\\\"\\n    *ngIf=\\\"registerForm.get('confirmPassword').hasError('required') && registerForm.get('confirmPassword').touched\\\">\\n      Password required\\n    </div>\\n    <div class=\\\"invalid-feedback\\\"\\n    *ngIf=\\\"registerForm.get('confirmPassword').touched && registerForm.hasError('mismatch')\\\">\\n      Passwords must match\\n    </div>\\n  </div>\\n\\n  <div class=\\\"form-group text-center\\\">\\n    <button class=\\\"btn btn-success\\\" type=\\\"submit\\\" [disabled]=\\\"registerForm.invalid\\\">Register</button>\\n    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" (click)=\\\"cancel()\\\">Cancel</button>\\n  </div>\\n</form>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { NgForm, FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\nimport { AuthService } from '../_services/auth.service';\nimport { AlertifyService } from '../_services/alertify.service';\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\nimport { User } from '../_models/user';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n  @Output() cancelRegister = new EventEmitter();\n    // model: any = {};\n  user: User;\n  registerForm: FormGroup;\n  // Partial<T> allows us to leave off required fields of class (makes them all optional)\n  bsConfig: Partial<BsDatepickerConfig> = { containerClass: 'theme-blue' };\n\n  constructor(private authService: AuthService, private as: AlertifyService, private fb: FormBuilder, private router: Router) { }\n\n  ngOnInit() {\n    // confirm password function will be on the fromgroup itself, not the form controls\n    // this.registerForm = new FormGroup({\n    //   username: new FormControl('', Validators.required),\n    //   password: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(10)]),\n    //   confirmPassword: new FormControl('', Validators.required)\n    // }, this.passwordMatchValidator);\n    this.createRegisterForm();  // easier syntax than above\n  }\n\n  createRegisterForm() {\n    this.registerForm = this.fb.group({\n      gender: ['male'],\n      username: ['', Validators.required],\n      dateOfBirth: [null, Validators.required],\n      city: ['', Validators.required],\n      country: ['', Validators.required],\n      password: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(10)]],\n      confirmPassword: ['', Validators.required]\n    }, { validator: this.passwordMatchValidator });\n  }\n\n  passwordMatchValidator(g: FormGroup) {\n    // value from this gets added to errors property on formGroup (each form control has an errors property also)\n    return g.get('password').value === g.get('confirmPassword').value ? null : {'mismatch': true};\n  }\n\n  // commenting this out after adding reactive forms\n  // register(registerForm: NgForm) {\n  //     this.authService.register(this.model).subscribe(() => {\n  //       this.as.success('registration successful');\n  //       // **********not done here..redirect to login!?\n  //       registerForm.control.reset();\n  //     }, err => {\n  //       this.as.error(err);\n  //     });\n  // }\n\n\n  register() {\n    console.log(this.registerForm);\n    if (this.registerForm.valid) {\n      this.user = Object.assign({}, this.registerForm.value);  // clones reg form into empty objecy, which is returned into users\n      this.authService.register(this.user).subscribe(() => {\n        this.as.message('Registration successful');\n      }, err => this.as.error(err),\n      () => {\n        this.authService.login(this.user).subscribe(() => {  // user has username and password in it we need\n          this.router.navigate(['/members']);\n        }, err => this.as.error(err));\n      });\n    }\n}\n\n  cancel() {\n    this.cancelRegister.emit(false);\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { ListsComponent } from './lists/lists.component';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberDetailResolver } from './_resolvers/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolvers/member-list.resolver';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit/member-edit.component';\r\nimport { MemberEditResolver } from './_resolvers/member-edit.resolver';\r\nimport { PreventUnsavedChanges } from './_guards/prevent-unsaved-changes.guard';\r\nimport { ListsResolver } from './_resolvers/lists.resolver';\r\nimport { MessagesResolver } from './_resolvers/messages.resolver';\r\nimport { AdminPanelComponent } from './admin/admin-panel/admin-panel.component';\r\n\r\n// angular routes matches on a first match wins sytem\r\nexport const appRoutes: Routes = [\r\n    { path: '', component: HomeComponent },\r\n    {\r\n        path: '',  // would match children. if path was 'dummy' then dummymembers' would match members\r\n        runGuardsAndResolvers: 'always',\r\n        canActivate: [AuthGuard],\r\n        children: [\r\n            { path: 'members', component: MemberListComponent, resolve: { users: MemberListResolver} },\r\n            { path: 'members/:id', component: MemberDetailComponent, resolve: { user: MemberDetailResolver }},\r\n            { path: 'member/edit', component: MemberEditComponent,\r\n                resolve: { user: MemberEditResolver },\r\n                canDeactivate: [PreventUnsavedChanges]},\r\n            { path: 'messages', component: MessagesComponent, resolve: { messages: MessagesResolver }},\r\n            { path: 'lists', component: ListsComponent, resolve: { users: ListsResolver }},\r\n            { path: 'admin', component: AdminPanelComponent, data: { roles: ['Admin', 'Moderator'] } }\r\n        ],\r\n    },\r\n    { path: '**', redirectTo: '', pathMatch: 'full' }\r\n];\r\n\r\n// https://github.com/bmayer4/ClientPanel/blob/master/src/app/app-routing.module.ts\r\n// above shows adding a path of '' in beginning and ** for notfound component\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:5000/api/'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}